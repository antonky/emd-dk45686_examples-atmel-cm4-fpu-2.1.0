<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DK45686 eMD examples User Guide: eMD software for dk45686</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="TDK_theme.css" rel="stylesheet" type="text/css"/>
<link href="TDK_override_banner_color.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="TDK_Logo_white.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DK45686 eMD examples User Guide
   &#160;<span id="projectnumber">2.1.0</span>
   </div>
   <div id="projectbrief">Documentation of the DK45686 eMD examples</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('a00044.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">eMD software for dk45686 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Summary</h1>
<p>The eMD (embedded Motion Driver) software for dk45686 consists in a set of examples and tools allowing users to evaluate our IMU's capabilities.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Supported Hardware</h1>
<p>This software requires Invensense's Developement Kit board.</p>
<p><img src="hardware_setup_overview_dk.jpg" alt="" class="inline"/></p>
<p>Optionally, an AK09915 magnetometer can be connected for 9-axis Sensor Fusion application. If needed, please contact your TDK Invensense representative.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Content</h1>
<p>The <code>algo/</code> folder contains a library to compute 6 or 9-axis sensor fusion. The library is provided for CM4-FPU with Microchip toolchain built with the following flags:</p><ul>
<li><em>Compiler flags</em>: <code>-mcpu=cortex-m4 -mthumb -mfloat-abi=hard -mfpu=fpv4-sp-d16 -fdata-sections -ffunction-sections</code></li>
<li><em>Linker flags</em>: <code>-Wl,--gc-sections</code></li>
</ul>
<p>Please contact your TDK Invensense representative if you need the library built with a specific toolchain.</p>
<p>The <code>sources/board_hal/</code> folder contains the board drivers, including Microchip's drivers and an hardware abstraction layer (HAL).</p>
<p>The <code>sources/drivers/</code> folder contains the drivers for the IMU and the magnetometer.</p>
<p>The <code>sources/examples/</code> folder contains a set of examples showcasing the IMU capabilities.</p>
<p>The <code>sources/Invn/</code> folder contains generic utils used in the firmware.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Build system</h1>
<p>The build system relies on Microchip Studio development suite. Please download it from Microchip website: <a href="https://www.microchip.com/en-us/tools-resources/develop/microchip-studio">https://www.microchip.com/en-us/tools-resources/develop/microchip-studio</a>.</p>
<p>All examples can be found under <code>sources/examples/*</code> and comes with a ready-to-use Microchip studio project (<code>&lt;example_name&gt;.cproj</code>).</p>
<p>To build an example, open "Build" menu and click on "Build Solution".</p>
<p>To flash an example on the Developement Kit, open "Debug" menu and click on "Start Debugging and Break". Once the firmware is successfully flashed, open "Debug" menu and click on "Continue" to begin the execution.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md6"></a>
Getting firmware traces</h2>
<p>On most examples, traces are sent by the firmware through the FTDI USB port. For dynprot-based applications, the FTDI USB port is used to exchange binary data with the host. In this case, traces will be sent through the EDBG USB Port.</p>
<p>To get traces, open a terminal emulator (for instance: <a href="https://www.putty.org/">https://www.putty.org/</a>) configured as followed:</p><ul>
<li>Speed: 921600 bauds</li>
<li>Data bits: 8</li>
<li>Stop bits: 1</li>
<li>Parity: None</li>
<li>Flow control: None</li>
</ul>
<p>To find out which COM port correspond to which USB port, open <em>Device Manager</em> application and expand "Ports (COM &amp; LPT)". The FTDI USB port will appear as "USB Serial Port (COMXX)" and the EDBG USB port will appear as "EDBG Virtual COM Port (COMYY)".</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Changing interfaces</h2>
<p>For each example, default interface is set to SPI. To change it, please update <code>#define SERIF_TYPE</code> (available at the begining of each example file) to:</p><ul>
<li><code>UI_SPI4</code> for SPI communication</li>
<li><code>UI_I2C</code> for I2C communication</li>
</ul>
<h2><a class="anchor" id="autotoc_md8"></a>
Reference Frame</h2>
<p>Unless noted otherwise, examples will report data within the sensor's reference frame as depicted in the datasheet.</p>
<p><img src="reference_frame_dk.jpg" alt="" class="inline"/> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jul 25 2024 08:14:36 for DK45686 eMD examples User Guide by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
